<form [formGroup]="form" (ngSubmit)="doSave()">
  <div class="container a-box d-flex justify-content-center align-items-center">
    <div class="card" style="width: 600px">
      <div class="card-body">
          <div class="d-flex justify-content-start align-items-center">
            <h4>{{ 'ADD_COURSE_BUTTON' | translate }}</h4>
          </div>
          <div style="height: 20px;"></div>
          <div class="mb-3">
            <label for="title" class="form-label"> {{ 'ADD_COURSE_FORM_TITLE_FIELD' | translate }}:</label>
            <input type="text" formControlName="title" class="form-control" id="title" [placeholder]="'ADD_COURSE_FORM_TITLE_FIELD_PLEACHOLDER' | translate" />
            <div *ngIf="form.get('title')?.touched" ngClass="error-message">
              <div *ngIf="form.get('title')?.hasError('required')">
                {{ 'ADD_COURSE_FORM_TITLE_FIELD_REQUIRED_MESSAGE' | translate }}
              </div>
              <div *ngIf="form.get('title')?.hasError('maxlength')">
                {{ 'ADD_COURSE_FORM_TITLE_FIELD_MAXLEN_MESSAGE' | translate }}
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label for="description" class="form-label"> {{ 'ADD_COURSE_FORM_DESC_FIELD' | translate }}:</label>
            <textarea formControlName="description" class="form-control" id="description" [placeholder]="'ADD_COURSE_FORM_DESC_FIELD_PLEACHOLDER' | translate"></textarea>
            <div *ngIf="form.get('description')?.touched" ngClass="error-message">
              <div *ngIf="form.get('description')?.hasError('required')">
                {{ 'ADD_COURSE_FORM_DESC_FIELD_REQUIRED_MESSAGE' | translate }}
              </div>
              <div *ngIf="form.get('description')?.hasError('maxlength')">
                {{ 'ADD_COURSE_FORM_DESC_FIELD_MAXLEN_MESSAGE' | translate }}
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label for="creationDate" class="form-label">{{ 'ADD_COURSE_FORM_DATE_FIELD' | translate }}:</label>
            <app-creation-date-form-control formControlName="creationDate"></app-creation-date-form-control>
            <div *ngIf="form.get('creationDate')?.touched" ngClass="error-message">
              <div *ngIf="form.get('creationDate')?.hasError('invalidFormat')">
                {{ 'ADD_COURSE_FORM_DATE_FIELD_FORMAT_MESSAGE' | translate }}
              </div>
              <div *ngIf="form.get('creationDate')?.hasError('required')">
                {{ 'ADD_COURSE_FORM_DATE_FIELD_REQUIRED_MESSAGE' | translate }}
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label for="duration" class="form-label"> {{ 'ADD_COURSE_FORM_DURATION_FIELD' | translate }}:</label>
            <div class="d-flex justify-content-start align-items-center">
              <app-duration-form-control formControlName="duration"></app-duration-form-control>
              <div style="width: 20px;"></div>
              <div style="flex: 0 0 100px">{{ form.get('duration')?.value | duration }}</div>
            </div>
            <div *ngIf="form.get('duration')?.touched" ngClass="error-message">
              <div *ngIf="form.get('duration')?.hasError('invalidType')">
                {{ 'ADD_COURSE_FORM_DURATION_FIELD_FORMAT_MESSAGE' | translate }}
              </div>
              <div *ngIf="form.get('duration')?.hasError('required')">
                {{ 'ADD_COURSE_FORM_DURATION_FIELD_REQUIRED_MESSAGE' | translate }}
              </div>
            </div>
          </div>
          <div class="mb-3">
              <label for="authors" class="form-label">{{ 'ADD_COURSE_FORM_AUTHORS_FIELD' | translate }}:</label>
              <app-authors-form-control formControlName="authors"></app-authors-form-control>
              <div *ngIf="form.get('authors')?.touched">
                <div ngClass="error-message" *ngIf="form.get('authors')?.hasError('atLeastSelectOne')">
                  {{ 'ADD_COURSE_FORM_AUTHORS_FIELD_REQUIRED_MESSAGE' | translate }}
                </div>
              </div>
          </div>
          <div class="d-flex justify-content-end align-items-center">
            <button type="button" class="btn btn-secondary" (click)="doSave()">
              <a class="cancel-link" [routerLink]="['/courses']">{{ 'ADD_COURSE_FORM_CANCEL_BUTTON' | translate }}</a>
            </button>
            <div style="width: 10px;"></div>
            <button type="submit" class="btn btn-primary" [disabled]="!form.valid">
              <span>{{ 'ADD_COURSE_FORM_SUBMIT_BUTTON' | translate }}</span>
            </button>
          </div>
      </div>
    </div>
  </div>
</form>
